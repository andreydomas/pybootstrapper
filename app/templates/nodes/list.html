{% extends "nodes/base.html" %}

{% set sidebar_nodes_list = True %}

{% block content %}

<table class="table table-hover nodes-list">
    <caption>
        <h2>{{ caption | default('Nodes') }}</h2>
    </caption>
    <thead>
        <tr>
            <th>Node ID</th>
            <th>Hostname</th>
            <th>Farm</th>
            <th>Pool</th>
            <th>Leasing created</th>
            <th>Leasing until</th>
        </tr>
    </thead>
    <tbody>
        {% for node in nodes %}
        <tr>

            <td><a href="{{ url_for('nodes.node', id=node.id) }}">{{ node.id }}</a></td>

            <td>{{ node.hostname }}</td>

            <td>{{ node.pool.farm }}</td/>

            <td>{{ node.pool }}</td>

            {% if node.leases %}
                {% set lease = node.leases[0] %}
            {% else %}
                {% set lease = dict() %}
            {% endif%}

            <td>{{ lease.created }}</td>

            <td>{{ lease.leasing_until }}</td>

        </tr>
        {% endfor %}
    </tbody>

</table>

{% endblock %}
